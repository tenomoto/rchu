---
title: 起動と終了
description: Rを対話的に使う
author: 榎本剛
date: 2024/11/2
categories:
  - basics
---

UNIXのシェルのようにRを対話的に使うことができる。
入力データや、生成したデータや画像をディレクトリ（フォルダ）にまとめておくと便利。

ターミナルでディレクトリを作成して、そのディレクトリに移動する。

```zsh
mkdir work
cd work
```

続いてRを起動する。

```zsh
R
```

Windows上のPowerShellの場合`R`は前のコマンドを実行する`Invoke-History`をエイリアスなので、`R.exe`とタイプする必要がある。
Rを終了するには`q()`を実行する。
終了時に生成したオブジェクトを`.RData`に保存するか聞かれる。
作業ディレクトリを分けないと、同じ名前のオブジェクトがせぬふるまいの原因になりうる。
終了時に`n`を選択し、データを保存しない方がよい。

- Rで使える文字はlocale依存だが、英数字と . _ である。
- .で始まる名前の2文字目に数字は使えない。
- コマンドは数式または代入。
- 数式の場合は評価されて、表示され、破棄される。
- 代入は評価されて、変数に値が渡され、自動的には表示されない。
- 行の最後で不完全な場合、プロンプトが+になり、入力待ちになる。
- コマンドの履歴は上矢印キーで参照できる。

ファイルに保存されているコマンドは

```r
source("commands.R")
```

で実行できる。


```r
sink("record.lis")
```

は実行後の出力先をファイルに振り向ける。

```r
sink()
```

により出力がコンソールに戻る。


Rのセッションで生成されたオブジェクトは`objects()`または`ls()`で確認できる。

```r
rm(x, y, z)
```

で削除できる。

